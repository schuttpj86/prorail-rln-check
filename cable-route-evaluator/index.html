<!doctype html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:;base64,=" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ProRail Cable Route Evaluator</title>
  </head>
  <body>
    <div id="app">
      <!-- Header Bar -->
      <div id="header">
        <h1 data-i18n="appTitle">ProRail Cable Route Evaluator</h1>
        <div class="header-actions">
          <button class="header-btn" id="lang-toggle" title="Switch Language / Taal Wijzigen">
            üá≥üá± NL
          </button>
          <button class="header-btn" id="help-btn" data-i18n-title="Help & Documentation" title="Help & Documentation">
            <span data-i18n="help">Help</span>
          </button>
          <button class="header-btn" id="settings-btn" data-i18n-title="Settings" title="Settings">
            <span data-i18n="settings">Settings</span>
          </button>
        </div>
      </div>

      <!-- Routes Panel (Left) -->
      <div id="controlPanel" class="panel">
        <div class="panel-header">
          <h2 data-i18n="routes">Routes</h2>
          <!-- Drawing Widget (Top Left) -->
          <div id="drawing-widget" class="map-widget-inline">
            <button id="start-drawing" class="draw-btn draw-btn-primary" data-i18n-title="startDrawing" title="Start drawing a new cable route">
              ‚ûï
            </button>
            <button id="cancel-drawing" class="draw-btn draw-btn-secondary" disabled data-i18n-title="cancelDrawing" title="Cancel current drawing">
              ‚úñ
            </button>
          </div>
        </div>
        <div class="panel-content">
          <!-- Routes List -->
          <div id="routeList" class="section">
            <div id="routes"></div>
            <p id="no-routes-message" style="
              margin-top: 16px; 
              padding: 28px;
              font-size: 0.875rem; 
              color: #999999; 
              text-align: center;
              background: #fafafa;
              border-radius: 8px;
              border: 1px dashed #d4d4d4;
              line-height: 1.8;
            ">
              <span data-i18n="noRoutesYet">No routes yet</span><br>
              <span style="font-size: 0.8125rem; color: #bbbbbb;" data-i18n="clickToCreateRoute">Click ‚ûï to create one</span>
            </p>
          </div>
        </div>
      </div>
      
      <!-- Map Container -->
      <div id="viewDiv">
        <!-- Welcome Message -->
        <div id="welcome-message" style="
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: white;
          padding: 32px 40px;
          border-radius: 8px;
          box-shadow: 0 4px 24px rgba(0,0,0,0.12);
          z-index: 9998;
          max-width: 600px;
          border: 1px solid #e5e5e5;
        ">
          <h2 style="margin: 0 0 20px 0; color: #000000; font-size: 1.5rem; font-weight: 600;" data-i18n="welcomeTitle">
            Welcome to ProRail Cable Route Evaluator
          </h2>
          
          <div style="margin-bottom: 24px; line-height: 1.6; color: #333333;">
            <p style="margin: 0 0 16px 0; font-size: 0.9375rem;" data-i18n="welcomeDescription">
              This tool helps you design and evaluate cable routes along railway infrastructure for compliance with EMC (Electromagnetic Compatibility) requirements.
            </p>
            
            <h3 style="margin: 0 0 12px 0; font-size: 1rem; font-weight: 600; color: #000000;" data-i18n="howToUse">
              How to Use:
            </h3>
            
            <div style="margin-bottom: 20px;">
              <p style="margin: 0 0 8px 0; font-weight: 600; font-size: 0.875rem;" data-i18n="drawingRoutesTitle">
                üìç Drawing Routes:
              </p>
              <ul style="margin: 0 0 12px 0; padding-left: 24px; font-size: 0.875rem; color: #555555;">
                <li data-i18n="drawingRoutesStep1">Click the <strong>‚ûï button</strong> in the top-left Routes panel</li>
                <li data-i18n="drawingRoutesStep2">Click on the map to add waypoints along your route</li>
                <li data-i18n="drawingRoutesStep3"><strong>Double-click</strong> to finish the route</li>
                <li data-i18n="drawingRoutesStep4">Hover over the ‚ûï button for quick tips</li>
              </ul>
              
              <p style="margin: 0 0 8px 0; font-weight: 600; font-size: 0.875rem;" data-i18n="evaluatingRoutesTitle">
                üìä Evaluating Routes:
              </p>
              <ul style="margin: 0 0 12px 0; padding-left: 24px; font-size: 0.875rem; color: #555555;">
                <li data-i18n="evaluatingRoutesStep1">After drawing, routes appear in the Routes panel</li>
                <li data-i18n="evaluatingRoutesStep2">Click Evaluate to check EMC compliance</li>
                <li data-i18n="evaluatingRoutesStep3">View detailed results and distance measurements</li>
              </ul>
              
              <p style="margin: 0 0 8px 0; font-size: 0.8125rem; color: #666666; font-style: italic;" data-i18n="standardInfo">
                Based on ProRail Standard RLN00398: EMC Requirements for High-Voltage Connections
              </p>
            </div>
          </div>
          
          <button id="close-welcome" style="
            width: 100%;
            padding: 12px 24px;
            background: #000000;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.9375rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
          " onmouseover="this.style.background='#1a1a1a'" onmouseout="this.style.background='#000000'" data-i18n="getStarted">
            Get Started
          </button>
        </div>
        
        <div id="map-loading" style="
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: white;
          padding: 40px 48px;
          border-radius: 8px;
          box-shadow: 0 4px 24px rgba(0,0,0,0.08);
          z-index: 9999;
          text-align: center;
          border: 1px solid #e5e5e5;
        ">
          <h3 style="margin: 0 0 12px 0; color: #000000; font-size: 1rem; font-weight: 500; letter-spacing: -0.01em;">Loading Map</h3>
          <p style="color: #666666; margin: 0; font-size: 0.875rem;">Please wait</p>
        </div>
      </div>

      <!-- Results Panel -->
      <div id="resultsPanel" class="panel">
        <div class="panel-header">
          <h2>Results</h2>
        </div>
        <div class="panel-content">
          <div id="results"></div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
